(function(t){function e(e){for(var s,n,r=e[0],o=e[1],c=e[2],u=0,b=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&b.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(b.length)b.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(s=!1)}s&&(l.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},l=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=o;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0bc1":function(t,e,a){"use strict";var s=a("afeb"),i=a.n(s);i.a},"23e9":function(t,e,a){t.exports=a.p+"img/bg9-5.56d08f7e.png"},"30ee":function(t,e,a){t.exports=a.p+"img/bg9-4.d52f488a.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"starleft"}),a("div",{staticClass:"starright"}),a("div",{staticClass:"title1"}),a("div",{staticClass:"machine-botton"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showboxball,expression:"showboxball"}],staticClass:"box-ballupDown"},[a("div",{staticClass:"box-ball1"}),a("div",{staticClass:"box-ball2"}),a("div",{staticClass:"box-ball3"}),a("div",{staticClass:"box-ball4"}),a("div",{staticClass:"box-ball5"}),a("div",{staticClass:"box-ball6"})]),a("div",{staticClass:"machine"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showballs,expression:"showballs"}],staticClass:"balls"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball1,expression:"showball1"}],class:"ball1 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop1"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball2,expression:"showball2"}],class:"ball2 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop2"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball3,expression:"showball3"}],class:"ball3 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop3"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball4,expression:"showball4"}],class:"ball4 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop3"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball5,expression:"showball5"}],class:"ball5 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop4"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showball6,expression:"showball6"}],class:"ball6 "+(t.centball?"centball":"divergeball")},[a("div",{staticClass:"pop4"})])]),a("button",{staticClass:"btn-lottery",attrs:{disabled:t.usableTimes<1||t.processing},on:{click:t.lotteryHandler}},[t._v("开始抽奖 ")]),a("button",{staticClass:"btn-left"}),a("button",{staticClass:"btn-right"}),a("div",{staticClass:"coin"},[t._v("×20")]),a("div",{staticClass:"tipbg"},[t._v("左右按钮或滑动切换奖池")]),a("div",{staticClass:"detialbg"}),a("button",{staticClass:"btn-win",on:{click:t.show_myprizehandler}},[t._v(" 累计奖励 ")]),a("div",{staticClass:"cj-timesbg"},[t._v(" 剩余XX数量 "),a("div",{staticClass:"cj-times"},[a("i",{staticClass:"i"},[t._v(t._s(t.usableTimes))])])]),a("div",{staticClass:"ball-exit"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPrizeBox,expression:"showPrizeBox"}],staticClass:"bounce-down-ball"})]),t.show_myprize?a("div",{staticClass:"my-prize"},[a("div",{staticClass:"top"},[t._v("累计奖励")]),a("ul",{staticClass:"list"},t._l(t.awardList,(function(e){return a("li",{key:e.timestamp},[a("span",[t._v("恭喜获得")]),a("span",[t._v(t._s(e.name))])])})),0),0===t.awardList.length?a("div",{staticClass:"no-awards"},[t._v("暂无奖品")]):t._e()]):t._e(),a("transition",{attrs:{name:"fade"}},[t.showDrawBall?a("draw-ball",{attrs:{awardData:t.awardData},on:{hideDrawBall:t.hideDrawBallHandler}}):t._e()],1)],1)},l=[],n=(a("99af"),a("a434"),a("96cf"),a("1da1")),r=a("2909"),o=[{id:1,name:"强力打造石",img:a("7c32"),type:"a"},{id:2,name:"红马",img:a("5b33"),type:"b"},{id:3,name:"黄马",img:a("659e"),type:"c"},{id:4,name:"紫马",img:a("ea8c"),type:"d"},{id:5,name:"绿马",img:a("30ee"),type:"e"},{id:6,name:"蓝马",img:a("23e9"),type:"f"}],c=200,d="lottery",u={setItem:function(t,e,a){if(a){var s=this.getItem(a);s[t]=e,this.setItem(a,s)}else{var i=this.getStorage();i[t]=e,window.localStorage.setItem(d,JSON.stringify(i))}},getItem:function(t,e){if(e){var a=this.getItem(e);if(a)return a[t]}return this.getStorage()[t]},getStorage:function(){return JSON.parse(window.localStorage.getItem(d)||"{}")},clear:function(t,e){var a=this.getStorage();if(e){if(!a[e])return;delete a[e][t]}else delete a[t];window.localStorage.setItem(d,JSON.stringify(a))}},b=(a("d3b7"),{wait:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"container"},[a("div",{staticClass:"box"},[a("div",{staticClass:"egg-cont"},[a("div",{staticClass:"cont"},[t._v(" 恭喜获得 "),a("div",{staticClass:"name"},[t._v(t._s(t.awardData.name))]),a("img",{staticClass:"imgbg",attrs:{src:t.awardData.img,alt:""}}),a("div",{staticClass:"hide",on:{click:t.hideDrawBall}}),a("button",{staticClass:"hidebtn",on:{click:t.hideDrawBall}},[t._v("确定")])])])])])},h=[],p={props:{awardData:{type:Object,default:Object.create(null)}},methods:{hideDrawBall:function(){this.$emit("hideDrawBall")}}},w=p,v=(a("0bc1"),a("2877")),f=Object(v["a"])(w,m,h,!1,null,"cb6a6ee6",null),g=f.exports,x={name:"App",components:{DrawBall:g},data:function(){return{processing:!1,showDrawBall:!1,showPrizeBox:!1,showballs:!0,totalTimes:0,usedTimes:0,awardData:{},awardList:[],prize_list:o,centball:!1,showboxball:!1,show_myprize:!0,showball1:!0,showball2:!0,showball3:!0,showball4:!0,showball5:!0,showball6:!0}},computed:{usableTimes:function(){return this.totalTimes-this.usedTimes}},created:function(){var t=u.getStorage(),e=t.awardList;this.totalTimes=c,u.setItem("totalTimes",this.totalTimes),u.setItem("usedTimes",0),this.totalTimes=u.getItem("totalTimes"),this.usedTimes=u.getItem("usedTimes"),void 0!==e&&(this.awardList=e)},mounted:function(){window.addEventListener("beforeunload",(function(){localStorage.removeItem("lottery")}))},methods:{_lottery:function(){var t=o.length,e=Math.floor(Math.random()*t);if(o.length>0){this._storingData(Object.assign(o[e])),this.awardList=u.getItem("awardList");var a=o.splice(e,1);return 1==a[0].id?this.showball1=!1:2==a[0].id?this.showball2=!1:3==a[0].id?this.showball3=!1:4==a[0].id?this.showball4=!1:5==a[0].id?this.showball5=!1:6==a[0].id&&(this.showball6=!1),a[0]}alert("附魔扭蛋已抽完")},_storingData:function(t){var e=u.getItem("awardList");void 0===e?u.setItem("awardList",[t]):u.setItem("awardList",[].concat(Object(r["a"])(e),[t]))},lotteryHandler:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.processing=!0,t.centball=!0,u.setItem("usedTimes",t.usedTimes),t.showPrizeBox=!1,e.next=6,b.wait(700);case 6:return t.showboxball=!0,e.next=9,b.wait(1500);case 9:return t.showPrizeBox=!0,e.next=12,b.wait(1200);case 12:if(t.showPrizeBox=!1,t.showboxball=!1,t.centball=!1,t.awardData=t._lottery(),void 0==t.awardData){e.next=22;break}return t.usedTimes+=20,t.showDrawBall=!0,e.abrupt("return");case 22:return t.showDrawBall=!1,e.abrupt("return");case 24:case"end":return e.stop()}}),e)})))()},hideDrawBallHandler:function(){this.processing=!1,this.showDrawBall=!1},show_myprizehandler:function(){this.show_myprize=!this.show_myprize}}},y=x,C=(a("9d14"),Object(v["a"])(y,i,l,!1,null,null,null)),_=C.exports;a("8190"),a("c490"),a("fb0c");s["a"].config.productionTip=!1,document.body.addEventListener("touchstart",(function(){})),new s["a"]({render:function(t){return t(_)}}).$mount("#app")},"5b33":function(t,e,a){t.exports=a.p+"img/bg9-1.fc4aa477.png"},"659e":function(t,e,a){t.exports=a.p+"img/bg9-2.2ed9943e.png"},"7c32":function(t,e,a){t.exports=a.p+"img/box-chose11.c541ba41.png"},8190:function(t,e,a){},"9d14":function(t,e,a){"use strict";var s=a("eaaa"),i=a.n(s);i.a},afeb:function(t,e,a){},c490:function(t,e,a){},ea8c:function(t,e,a){t.exports=a.p+"img/bg9-3.4f47d9ec.png"},eaaa:function(t,e,a){},fb0c:function(t,e,a){a("b680"),a("ac1f"),a("466d"),function(t,e){var a,s=t.document,i=s.documentElement,l=s.querySelector('meta[name="viewport"]'),n=s.querySelector('meta[name="flexible"]'),r=0,o=0,c=e.flexible||(e.flexible={});if(l){var d=l.getAttribute("content").match(/initial-scale=([\d.]+)/);d&&(o=parseFloat(d[1]),r=parseInt(1/o))}else if(n){var u=n.getAttribute("content");if(u){var b=u.match(/initial-dpr=([\d.]+)/),m=u.match(/maximum-dpr=([\d.]+)/);b&&(r=parseFloat(b[1]),o=parseFloat((1/r).toFixed(2))),m&&(r=parseFloat(m[1]),o=parseFloat((1/r).toFixed(2)))}}if(!r&&!o){var h=t.navigator.appVersion.match(/iphone/gi),p=t.devicePixelRatio;r=h?p>=3&&(!r||r>=3)?3:p>=2&&(!r||r>=2)?2:1:1,o=1/r}if(i.setAttribute("data-dpr",r),!l)if(l=s.createElement("meta"),l.setAttribute("name","viewport"),l.setAttribute("content","initial-scale="+o+", maximum-scale="+o+", minimum-scale="+o+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(l);else{var w=s.createElement("div");w.appendChild(l),s.write(w.innerHTML)}function v(){var e=i.getBoundingClientRect().width;e/r>540&&(e=540*r);var a=e/10;i.style.fontSize=a+"px",c.rem=t.rem=a}t.addEventListener("resize",(function(){clearTimeout(a),a=setTimeout(v,300)}),!1),t.addEventListener("pageshow",(function(t){t.persisted&&(clearTimeout(a),a=setTimeout(v,300))}),!1),"complete"===s.readyState?s.body.style.fontSize=12*r+"px":s.addEventListener("DOMContentLoaded",(function(){s.body.style.fontSize=12*r+"px"}),!1),v(),c.dpr=t.dpr=r,c.refreshRem=v,c.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"===typeof t&&t.match(/rem$/)&&(e+="px"),e},c.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"===typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window["lib"]||(window["lib"]={}))}});